<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ordinal Numbers Game - English Practice</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            padding: 40px;
            max-width: 600px;
            width: 100%;
        }

        h1 {
            color: #ff6b6b;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2.5em;
        }

        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
        }

        .screen {
            display: none;
        }

        .screen.active {
            display: block;
        }

        .range-selector {
            margin: 30px 0;
        }

        .range-option {
            background: #f5f5f5;
            border: 2px solid #ddd;
            border-radius: 10px;
            padding: 20px;
            margin: 15px 0;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }

        .range-option:hover {
            background: #ff6b6b;
            border-color: #ff6b6b;
            color: white;
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.3);
        }

        .range-option h3 {
            font-size: 1.3em;
            margin-bottom: 5px;
        }

        .range-option p {
            font-size: 0.9em;
            opacity: 0.8;
        }

        .game-area {
            text-align: center;
        }

        .score-board {
            display: flex;
            justify-content: space-around;
            margin-bottom: 30px;
            padding: 20px;
            background: #f5f5f5;
            border-radius: 10px;
        }

        .score-item {
            text-align: center;
        }

        .score-label {
            font-size: 0.9em;
            color: #666;
            margin-bottom: 5px;
        }

        .score-value {
            font-size: 1.8em;
            font-weight: bold;
            color: #ff6b6b;
        }

        .number-display {
            background: linear-gradient(135deg, #ffecd2 0%, #fcb69f 100%);
            color: #8b4513;
            font-size: 4em;
            font-weight: bold;
            padding: 40px;
            border-radius: 15px;
            margin: 30px 0;
            box-shadow: 0 10px 30px rgba(255, 107, 107, 0.3);
        }

        .input-group {
            margin: 30px 0;
        }

        input[type="text"] {
            width: 100%;
            padding: 15px 20px;
            font-size: 1.2em;
            border: 2px solid #ddd;
            border-radius: 10px;
            outline: none;
            transition: border-color 0.3s ease;
        }

        input[type="text"]:focus {
            border-color: #ff6b6b;
        }

        .feedback {
            margin: 20px 0;
            padding: 15px;
            border-radius: 10px;
            font-weight: bold;
            text-align: center;
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .feedback.correct {
            background: #d4edda;
            color: #155724;
            border: 2px solid #c3e6cb;
        }

        .feedback.incorrect {
            background: #f8d7da;
            color: #721c24;
            border: 2px solid #f5c6cb;
        }

        .feedback.hidden {
            opacity: 0;
        }

        button {
            background: linear-gradient(135deg, #ff6b6b 0%, #ffa726 100%);
            color: white;
            border: none;
            padding: 15px 40px;
            font-size: 1.1em;
            border-radius: 10px;
            cursor: pointer;
            transition: transform 0.2s ease, box-shadow 0.2s ease;
            font-weight: bold;
        }

        button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(255, 107, 107, 0.4);
        }

        button:active {
            transform: translateY(0);
        }

        .button-group {
            display: flex;
            gap: 15px;
            justify-content: center;
            margin-top: 20px;
        }

        .secondary-button {
            background: #6c757d;
        }

        .instruction {
            background: #fff5e6;
            padding: 15px;
            border-radius: 10px;
            margin: 20px 0;
            color: #cc5500;
            border-left: 4px solid #ff6b6b;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Tela Inicial -->
        <div id="startScreen" class="screen active">
            <h1>üèÜ Ordinal Numbers</h1>
            <p class="subtitle">Practice English Ordinal Numbers</p>
            
            <div class="instruction">
                üìù Choose a number range and write the ordinal numbers in English!<br>
                Examples: 1st ‚Üí first, 2nd ‚Üí second, 3rd ‚Üí third, 4th ‚Üí fourth
            </div>

            <div class="range-selector">
                <div class="range-option" onclick="startGame(1, 20)">
                    <h3>üü¢ Easy</h3>
                    <p>Ordinal numbers from 1st to 20th</p>
                </div>
                
                <div class="range-option" onclick="startGame(1, 50)">
                    <h3>üü° Medium</h3>
                    <p>Ordinal numbers from 1st to 50th</p>
                </div>
                
                <div class="range-option" onclick="startGame(1, 100)">
                    <h3>üî¥ Hard</h3>
                    <p>Ordinal numbers from 1st to 100th</p>
                </div>
                
                <div class="range-option" onclick="startGame(1, 1000)">
                    <h3>üî• Expert</h3>
                    <p>Ordinal numbers from 1st to 1000th</p>
                </div>
            </div>

            <div class="button-group">
                <button class="secondary-button" onclick="backToMainMenu()">‚Üê Back to Main Menu</button>
            </div>
        </div>

        <!-- Tela do Jogo -->
        <div id="gameScreen" class="screen">
            <h1>üèÜ Ordinal Numbers</h1>
            
            <div class="score-board">
                <div class="score-item">
                    <div class="score-label">Correct</div>
                    <div class="score-value" id="correctScore">0</div>
                </div>
                <div class="score-item">
                    <div class="score-label">Incorrect</div>
                    <div class="score-value" id="incorrectScore" style="color: #dc3545;">0</div>
                </div>
                <div class="score-item">
                    <div class="score-label">Total</div>
                    <div class="score-value" id="totalScore" style="color: #6c757d;">0</div>
                </div>
            </div>

            <div class="instruction">
                Write the ordinal number below in English and press Enter
            </div>

            <div class="number-display" id="numberDisplay">1st</div>

            <div class="input-group">
                <input 
                    type="text" 
                    id="answerInput" 
                    placeholder="Type the ordinal number in English..." 
                    autocomplete="off"
                    onkeypress="handleKeyPress(event)"
                >
            </div>

            <div id="feedback" class="feedback hidden"></div>

            <div class="button-group">
                <button onclick="checkAnswer()">‚úì Check Answer</button>
                <button class="secondary-button" onclick="backToMainMenu()">‚Üê Back to Main Menu</button>
            </div>
        </div>
    </div>

    <script>
        let currentNumber = 0;
        let minRange = 1;
        let maxRange = 20;
        let correctCount = 0;
        let incorrectCount = 0;
        let totalCount = 0;
        let currentAnswer = '';

        function numberToOrdinal(num) {
            const ones = ['', 'first', 'second', 'third', 'fourth', 'fifth', 'sixth', 'seventh', 'eighth', 'ninth'];
            const teens = ['tenth', 'eleventh', 'twelfth', 'thirteenth', 'fourteenth', 'fifteenth', 
                          'sixteenth', 'seventeenth', 'eighteenth', 'nineteenth'];
            const tens = ['', '', 'twentieth', 'thirtieth', 'fortieth', 'fiftieth', 
                         'sixtieth', 'seventieth', 'eightieth', 'ninetieth'];
            
            if (num === 0) return 'zeroth';
            
            if (num < 10) return ones[num];
            if (num < 20) return teens[num - 10];
            if (num < 100) {
                if (num % 10 === 0) {
                    return tens[Math.floor(num / 10)];
                } else {
                    const tensPlace = Math.floor(num / 10);
                    const onesPlace = num % 10;
                    return tens[tensPlace].replace('ieth', 'y-') + ones[onesPlace];
                }
            }
            if (num < 1000) {
                const hundreds = Math.floor(num / 100);
                const remainder = num % 100;
                if (remainder === 0) {
                    return ones[hundreds] + ' hundredth';
                } else {
                    return ones[hundreds] + ' hundred and ' + numberToOrdinal(remainder);
                }
            }
            if (num < 1000000) {
                const thousands = Math.floor(num / 1000);
                const remainder = num % 1000;
                const thousandText = numberToWords(thousands);
                
                if (remainder === 0) {
                    return thousandText + ' thousandth';
                } else {
                    return thousandText + ' thousand ' + numberToOrdinal(remainder);
                }
            }
            
            return num.toString() + 'th';
        }

        function numberToWords(num) {
            const ones = ['', 'one', 'two', 'three', 'four', 'five', 'six', 'seven', 'eight', 'nine'];
            const teens = ['ten', 'eleven', 'twelve', 'thirteen', 'fourteen', 'fifteen', 'sixteen', 'seventeen', 'eighteen', 'nineteen'];
            const tens = ['', '', 'twenty', 'thirty', 'forty', 'fifty', 'sixty', 'seventy', 'eighty', 'ninety'];
            
            if (num === 0) return 'zero';
            
            if (num < 10) return ones[num];
            if (num < 20) return teens[num - 10];
            if (num < 100) {
                return tens[Math.floor(num / 10)] + (num % 10 !== 0 ? '-' + ones[num % 10] : '');
            }
            if (num < 1000) {
                return ones[Math.floor(num / 100)] + ' hundred' + 
                    (num % 100 !== 0 ? ' and ' + numberToWords(num % 100) : '');
            }
            if (num < 1000000) {
                return numberToWords(Math.floor(num / 1000)) + ' thousand' + 
                    (num % 1000 !== 0 ? ' ' + numberToWords(num % 1000) : '');
            }
            
            return num.toString();
        }

        function numberToOrdinalSuffix(num) {
            const lastTwoDigits = num % 100;
            const lastDigit = num % 10;
            
            if (lastTwoDigits >= 11 && lastTwoDigits <= 13) {
                return num + 'th';
            }
            
            switch (lastDigit) {
                case 1: return num + 'st';
                case 2: return num + 'nd';
                case 3: return num + 'rd';
                default: return num + 'th';
            }
        }

        function getRandomNumber(min, max) {
            return Math.floor(Math.random() * (max - min + 1)) + min;
        }

        function startGame(min, max) {
            minRange = min;
            maxRange = max;
            correctCount = 0;
            incorrectCount = 0;
            totalCount = 0;
            
            updateScores();
            showScreen('gameScreen');
            generateNewNumber();
        }

        function generateNewNumber() {
            currentNumber = getRandomNumber(minRange, maxRange);
            currentAnswer = numberToOrdinal(currentNumber);
            document.getElementById('numberDisplay').textContent = numberToOrdinalSuffix(currentNumber);
            document.getElementById('answerInput').value = '';
            document.getElementById('answerInput').focus();
            hideFeedback();
        }

        function normalizeAnswer(text) {
            return text.toLowerCase()
                .trim()
                .replace(/\s+/g, ' ')
                .replace(/,/g, '')
                .replace(/\band\b/g, 'and')
                .replace(/-/g, '-');
        }

        function checkAnswer() {
            const userAnswer = document.getElementById('answerInput').value;
            const normalizedUser = normalizeAnswer(userAnswer);
            const normalizedCorrect = normalizeAnswer(currentAnswer);
            
            const feedbackElement = document.getElementById('feedback');
            
            if (normalizedUser === normalizedCorrect) {
                correctCount++;
                totalCount++;
                feedbackElement.textContent = '‚úì Correct! Well done!';
                feedbackElement.className = 'feedback correct';
                
                updateScores();
                
                setTimeout(() => {
                    generateNewNumber();
                }, 600);
            } else {
                incorrectCount++;
                totalCount++;
                feedbackElement.textContent = `‚úó Incorrect. The correct answer is: "${currentAnswer}"`;
                feedbackElement.className = 'feedback incorrect';
                
                updateScores();
                
                setTimeout(() => {
                    generateNewNumber();
                }, 1500);
            }
        }

        function updateScores() {
            document.getElementById('correctScore').textContent = correctCount;
            document.getElementById('incorrectScore').textContent = incorrectCount;
            document.getElementById('totalScore').textContent = totalCount;
        }

        function hideFeedback() {
            document.getElementById('feedback').className = 'feedback hidden';
        }

        function handleKeyPress(event) {
            if (event.key === 'Enter') {
                checkAnswer();
            }
        }

        function showScreen(screenId) {
            document.querySelectorAll('.screen').forEach(screen => {
                screen.classList.remove('active');
            });
            document.getElementById(screenId).classList.add('active');
        }

        function backToStart() {
            showScreen('startScreen');
        }

        function backToMainMenu() {
            window.location.href = '../../index.html';
        }
    </script>
</body>
</html>